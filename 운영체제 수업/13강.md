## 2022-04-28

<br/>

# Chapter 05. CPU Scheduling

<br/>

## CPU Scheduling이란?

CPU는 하나, Process는 여러 개 -> 어떤 프로세스에 자원을 할당할 것인가를 결정하는 것

<br/>

## Basic Concepts (기본 개념)

CPU burst와 I/O burst가 번갈아 발생한다.

int i = 3; -> 3가지로 나뉜다.<br/>
i = i + 1; -> 3가지로 나뉜다. <br>

1-1. 메모리에 정수를 저장할 공간을 마련한다. -> CPU burst <br/>
2-1. 해당공간의 이름을 i로 칭한다. -> CPU burst <br/>
3-1. i라는 공간에 3을 저장한다. -> I/O burst <br/>

1-2. i에 저장된 값을 읽어온다. -> I/O burst <br/>
2-2. i에 1을 더한다. -> CPU burst <br/>
3-2. i + 1의 결과값을 i에 저장한다. -> I/O burst <br/>

<br/>

## CPU 스케쥴링이 필요한 경우

1. 프로세스가 실행 상태에서 대기 상태가 될 때
2. 프로세스가 실행 상태에서 준비 싱태로 갈 때
3. 프로세스가 대기 상태에서 준비 상태로 될 때
4. 프로세스가 종료될 때

1, 2, 4의 이유: 실행에 있던 프로세스가 다른 상태로 가므로 누군가는 실행을 해야하기 때문 <br/>
3의 이유: 대기 상태의 프로세스가 준비 상태의 프로세스들 사이 중 어디로 들어가야 할지 정해야 하기 때문 <br/>

1, 4는 스케쥴링을 통해서 반드시 준비 큐에 있는 프로세스를 하나를 선택해야 한다. <br/>
1, 4에서만 스케쥴링 -> 비선점형 <br/>
나머지 -> 선점형

<br/>

## nonpreemptive, preemptive (비선점형, 선점형)

비선점형은 현재 CPU에서 실행되고 있는 프로세스가 있으면 다른 프로세스가 침범할 수 없다. 즉, 실행 모드의 프로세스가 CPU 자원을 놓지 않고 있는 한, 다른 프로세스가 실행할 수 없다.<br/>
선점형은 그래도 침범할 수 있다.

<br/>

## Dispatcher (디스패처)

스케쥴러가 선택한 프로세스에게 CPU 자원을 할당하는 일을 한다.

하는 작업

- 프로세스간 문맥교환
- 사용자, 커널 모드 전환
- 프로그램 재시작 시, 적절한 위치로 이동 -> A, B 프로세스간 전환 시, 실행한 곳까지를 기록하고 그곳으로 점프

## Scheduling Criteria (스케줄링 기준)

- CPU utilization (CPU 이용률) <br/>
  CPU를 최대한 바쁘게 유지해야 한다.

- Throughput (처리량) <br/>
  단위 시간당 완료된 프로세스의 개수

- Turnaround time (총처리 시간) <br/>
  특정 프로세스가 실행된 시간

- Waiting time (대기 시간) <br/>
  ready 큐에서 프로세스가 대기하면서 보낸 시간의 합

- Response time (응답 시간) <br/>
  하나의 요구를 제출한 후, 첫 번째 응답이 나올 때까지의 시간<br/>
  이 기준은 응답이 시작되는 데까지 걸리는 시간이지, 그 응답을 출력하는 데 걸리는 시간은 아니다.

맨 위의 2개는 클수록, 아래의 3개는 짧을수록 바람직하다.
