# 2022-03-31

## 프로세스

프로세스는 어떤 작업의 절차이고 하드디스크에 있는 프로그램이 실제로 동작을 하는 것이다. 프로세스간의 통신은 공유 메모리를 통해 이루어지거나 메세지를 전달함으로서 이루어진다.

<br/>

## 프로세스 vs 프로세서

프로세스는 운영체제에서 동작하는 프로그램으로 실행하고 있는 프로그램이다.

프로세서는 CPU이자 소프트웨어적인 측면에서 작업을 수행하는 가상의 기기이다.

<br/>

## 컴퓨터 내부적으로 운영체제가 하는 일

<img width="260" alt="스크린샷 2022-04-01 오전 10 52 35" src="https://user-images.githubusercontent.com/67616146/161179253-1aee1107-04c1-4413-9d44-ddb5538a17cd.png">

<br/>

프로그램이 실행 중인 상태를 프로세스라고 한다. 프로그램은 하드디스크에 있는데 사용자가 더블클릭했을 때, RAM에 할당된다. 이 때, 그 코드를 RAM에 올리는 것이 아니라 위와 같은 형태로 올린다. 그리고 실행코드는 text section에, 전역변수는 data section에 넣는다.<br/>
프로그램이 실행됨에 따라서 heap 영역에 할당되고 stack 영역은 함수가 호출될 때마다 자란다. stack에는 해당 함수가 다른 함수를 호출했을 때 제어권이 다른 함수로 넘어갔을 떄 현재까지 사용한 지역변수를 저장한다.

<br/>

## 프로세스 상태

<img width="496" alt="스크린샷 2022-04-01 오전 10 58 32" src="https://user-images.githubusercontent.com/67616146/161179756-835ff830-48e8-4a3c-811f-e5a016c54d66.png">

- new : 프로세스가 생성중이다.
- running : 명령어들이 실행되고 있다.
- waiting : 프로세스가 어떤 이벤트(입출력 완료)를 기다린다. 이는 실행할 준비가 된 상태이다.
- ready : 프로세스가 처리기에 할당되기를 기다린다.
- terminated : 프로세스의 실행이 종료되었다.

<br/>

## PCB (Process Control Block)

<img width="177" alt="스크린샷 2022-04-01 오후 8 23 46" src="https://user-images.githubusercontent.com/67616146/161254234-267909aa-acf7-4df8-b31c-e79e40ad953a.png">

PCB는 프로세스 제어 블록이다. 이는 프로세스를 시작시커가나 다시 시작시키는데 필요한 데이터를 저장하는 곳이다.

PCB는 RAM에 저장된다. 하드디스크에 저장하면 읽고 쓰는 동안 CPU는 놀아야 하기 때문에 빠른 RAM에 저장하는 것이다.

이를 사용하는 자세한 내용은 context switch에서 다시 살펴보도록 하자.

<br/>

## 그외 상식

시분할 시스템 - 시간을 분할해서 여러 작업들을 그 시간 안에 수행하는 것이다.
