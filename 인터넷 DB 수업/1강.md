# 2022-03-15

## 데이터베이스(Database)

데이터베이스는 데이터를 모아놓은 것으로 데이터의 집합이다. 데이터베이스의 주 관심사는 많은 데이터를 얼마나 효율적으로 처리하느냐이다.
<br/><br/>

### 효율성

- 시간 효율<br/>
  같은 시간에 얼마나 더 많은 데이터를 처리하느냐
- 공간 효율<br/>
  같은 양의 공간을 저장하는데 얼마나 더 많은 메모리를 처리하느냐

  <br/>

## 관계형 데이터베이스(DBMS)

관계형 데이터베이스는 표로 표현된 데이터베이스이다.이것은 데이터베이스를 관리하는 것처럼 보이는 프로그램이다. 이는 파일 시스템의 데이터 중복과 데이터 종속 등의 문제를 해결하기 위해 사용한다.
<br/><br/>

## 파일 시스템의 단점을 보완하는 데이터베이스

- 데이터 중복성(Data Redundancy), 데이터 불일치(Data Inconsistency)<br/>
  동일한 데이터를 동시에 여러 사람이 수정할 때, 파일을 복사해서 여러 곳에 나누어 주어야 한다. 이렇게 중복된 데이터가 수정된 것이 다르다면, 올바른 데이터가 무엇인지 알 수 없다. 그리고 잠금 단위가 파일 전체이므로 파일 내에 여러 데이터가 있을 경우 전부 사용할 수 없다.<br/>
  반면에, 데이터베이스는 파일 내의 레코드 속성 등으로 작은 단위로 잠금을 걸 수 있다.

- 데이터 처리(Data Processing)<br/>
  파일에 있는 데이터를 검색하거나 변경할 때는 응용프로그램을 사용해야한다.<br/>
  반면에, 데이터베이스는 SQL이라는 간단한 언어를 제공한다.

- 데이터 무결성(Data Integrity)<br/>
  파일 시스템은 데이터 무결성을 보장하지 못한다.<br/>
  반면에, 데이터베이스는 여러 제약 조건을 통해 데이터 무결성을 보장한다.

- 원자성(Acomcity)<br/>
  파일 시스템은 원자성을 가지지 못하는 반면에, 데이터베이스는 트랜잭션 개념을 사용하여 원자성을 가진다.
  <br/><br/>

### 데이터 무결성

학생 정보에서 점수는 0보다 크거나 같고 100보다 작거나 같다는 조건이 있다고 가정하자. 파일 시스템에서는 A 학생의 정보에서도, B 학생의 정보에서도 모두 동일한 제약 조건을 지정해야 하는 반면에, 데이터베이스에서는 제약 조건을 한 번만 지정하면 된다.
<br/><br/>

### 원자성

> (위키백과) 원자성(atomicity)은 데이터베이스 시스템에서 ACID 트랜잭션 특성 중의 하나다. 하나의 원자 트랜잭션은 모두 성공하거나 또는 실패하는 데이터베이스 운용의 집합이다.

내 계좌에서 돈을 동생한테 보낼 때, 고장이 난다면 내 계좌에서 돈이 빠지고 동생의 계좌에 돈이 들어오거나 이 작업이 수행되지 않고 서로의 계좌에 변동이 없어야 한다.<br/><br/>

## 데이터 모델

물리적 또는 추상으로 존재하는 현실세계를 단순화되고 정형화된 형태로 표현하는 하나의 방식 또는 규범을 말한다.
<br/><br/>

## 관계형 데이터 모델

<img width="325" alt="스크린샷 2022-03-19 오전 10 24 41" src="https://user-images.githubusercontent.com/67616146/159101219-c328948a-9419-4238-992e-7a6b25e558a1.png"><br/>
테이블 형식을 사용해서 데이터들을 정의하고 설명한 모델이다. 테이블을 관계형이라고도 부른다.

- 속성 - 필드, 열 <br/>
  ex) 이름, 전화번호, 주소, 생일<br/><br/>
- 튜플 - 레코드, 행<br/>
  ex) <김민지, 010-1234-5678, 서울, 8월 12일>
  <br/><br/>

### 테이블 스키마

테이블 정의에 따라 만들어진 데이터 구조이다. 모양은 "테이블 이름(필드들의 이름)"이다.<br/>
ex) 학생(이름, 전화번호, 주소, 생일)
<br/><br/>

### 차수

테이블 스키마에 정의된 필드의 수를 말한다. <br/>
위의 예에서 보면 이름, 전화번호, 주소, 생일이므로 4개이다.
<br/><br/>

### 테이블 인스턴스

테이블 스키마에 현실의 데이터를 레코드로 저장한 것이다.<br/>
삽입, 수정, 삭제 등으로 자주 바뀔 수 있다.<br/>
레코드의 집합이기 때문에 중복된 것이 존재하지 않고 순서가 없다.<br/><br/>

### 기수

테이블 인스턴스의 레코드(행)의 수

## 키(Key)

키는 개체를 식별하기 위한 속성의 집합이다.<br/>

- 슈퍼 키<br/>
  개체 집합에서 어떤 개체를 유일하게 식별할 수 있는 하나 이상 속성의 집합<br/>
  null의 가능성이 있으면 슈퍼 키가 될 수 없다.<br/>
  ex) 휴대폰번호

- 후보 키<br/>
  주어진 슈퍼 키의 속성에서, 속성을 하나라도 뺐을 때 슈퍼 키가 될 수 없다면 후보키

- 기본 키<br/>
  후보 키가 하나면 기본 키<br/>
  주어진 집합에 후보 키가 두 개 이상 있으면 데이터베이스 설계 시, 하나는 기본 키가 되고 나머지는 후보 키가 된다.

- 외래 키<br/>
  다른 테이블에서 기본 키인 속성의 집합이 테이블에 있을 떄, 이 속성의 집합을 주어진 테이블에서 외래 키라고 한다.<br/>
  null 가능<br/><br/>

## 데이터베이스 설계 시 키들 간 순서

최상위 테이블에는 외래 키가 없는 것이 들어가고 순차적으로 외래 키가 적은 순서대로 설계한다. 즉, 외래 키가 없는 것을 먼저 만들고 외래 키가 많은 것 순으로 만들어 나간다.
